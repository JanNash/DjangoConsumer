language: objective-c

xcode_workspace: DjangoConsumer.xcworkspace
xcode_scheme: DjangoConsumer
osx_image: xcode9.2
xcode_sdk: iphonesimulator11.2

cache:
  - bundler
  - cocoapods
  directories:
    - $HOME/.cocoapods/repos/master
    - /home/travis/.rvm/

install:
  - bundle install 
  - pod repo update
  - pod install

script:
  - set -o pipefail && xcodebuild clean build test -workspace DjangoConsumer.xcworkspace -scheme DjangoConsumer -destination 'platform=iOS Simulator,name=iPhone X,OS=latest' | xcpretty
